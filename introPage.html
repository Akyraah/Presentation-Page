<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
<title>Introduction</title>
<link rel="stylesheet" href="introStyles.css">
<script src="jquery-1.11.3.min.js"></script>

</head>

<body style="background-color:white ;
background-image: url(Pics/background.png);
background-size: cover;
background-attachment: fixed">

<div style="position: absolute; left: 0; top: 0; width:100%; height: 100%">
<a href="introPage.html" class = "home" style="position: absolute; left: 25px; top: 25px"><img src="Pics/home2.png" alt="home" width="70" height="70" ></a>
<canvas id="backgroundCanvas" width="800" height="800" style="position: absolute; left: 0; top: 0; z-index: -1;">
</canvas>

<canvas id="foregroundCanvas" width="800" height="800" style="position: absolute; left: 0; top: 0; z-index: 0">
	
</canvas>

<img src="Pics/engrenage.png" alt="engrenage" width="70" height="70" id="icon0">
<img src="Pics/sheet.png" alt="sheet" width="70" height="70" id="icon1">
<img src="Pics/controller.png" alt="controller" width="70" height="70" id="icon2">
<img src="Pics/building.png" alt="building" width="70" height="70" id="icon3">
<img src="Pics/arobase.png" alt="arobase" width="70" height="70" id="icon4">
</div>

<div class = "intro" id="intro0">
	
	<div id="header">
			Projects :
	</div>
	<div class="nav">
		<div id="section">
			<div id="sectionHeader">
				Flights' schedule optimization in an airline company
			</div>
			<div id="sectionInner">
				<div id="sectionBlock" align="justify">
					<img src="Pics/TIPE1.png" alt="TIPE1" style="width:30%; float:right">
					<br>
					In 2015, as a selective project right before engineering studies, developed in Java.<br>
				</div>
				<div id="sectionBlock" align="justify"  style="clear:left">
					<img src="Pics/TIPE2.png" alt="TIPE2" style="width:30%;float:left">
					The application optimize the planning used by an airline company to organize flights between the available airports.
					<br> <br>
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		Click me for more information!
	</div>
	<a 	href="main.html" 
		style="	position: absolute;
				height: 100%;
				width: 100%;
				left: 0;
				top: 0;
				text-decoration: none;
				z-index: 1;">
	</a>
</div>

<div class = "intro" id="intro1">
	<div id="header">
		Personnal Resume:
	</div>
	<object data="DE BOIS_Aurélien_oct_CV.pdf" type="application/pdf#zoom=75" width="100%" height="85%">
 
		<p>It appears you don't have a PDF plugin for this browser.
		</p>
	  
	</object>

</div>

<div id="intro2" class = "intro">
	<div id="header">
			Video Games and Development :
	</div>
	<div class="nav">
		<div id="section">
			<div id="sectionHeader">
				Explode To Win
			</div>
			<div id="sectionInner">
				<div id="sectionBlock" align="justify">
					<img src="Pics/EtW2.png" alt="EtW2" style="width:30%; float:left">
					<br>
					A Java project including the development of a block-base fps game.<br>
				</div>
				<div id="sectionBlock" align="justify"  style="clear:left">
					<img src="Pics/EtW1.png" alt="EtW1" style="width:30%;float:right">
					
					Due to the most significant feature of the game being the multiplayer aspect, it has been necessary to develop secondary applications such as server and a client.
					<br>
					<br>
				</div>
			</div>
		</div>
		<div id="section">
			<div id="sectionHeader">
				Dragon Slash
			</div>
			<div id="sectionInner">
				<div id="sectionBlock" align="justify">
					<img src="Pics/DragonSlash2.png" alt="DragonSlash2" style="width:30%; float:left">

					Made in flash, one of my first project using block oriented development.<br>
					Each unit has its own ability, the player decide the overall strategy of the battle.
					<br>
					<br>
					<br>
					
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		Click me for more information!
	</div>
	<a 	href="VGDPage.html" 
		style="	position: absolute;
				height: 100%;
				width: 95%;
				left: 0;
				top: 0;
				text-decoration: none;
				z-index: 1;">
	</a>
</div>

<div class = "intro" id="intro3">
	<div id="header">
			Professional experience:
	</div>
	<div class="nav">
		<div id="section">
			<div id="sectionHeader">
				<br>
			</div>
			<div id="sectionInner">
				<div id="sectionBlock" align="justify">
					<br>
					<br>
					<br>
				</div>
			</div>
		</div>
		<div id="section">
			<div id="sectionHeader">
				<br>
			</div>
			<div id="sectionInner">
				<div id="sectionBlock" align="justify">
					<br>
					<br>
					<br>
				</div>
			</div>
		</div>
	</div>
</div>

<div class = "intro" id="intro4">
	<div id="header">
			Additional Information:
	</div>
	<div class = "nav">
		<div id="section">
			<div id="sectionHeader">
				How you can contact me
			</div>
			<div id="sectionInner">
				<div id="sectionBlock" align="justify">
					DE BOIS Aurélien<br>
					aurelien.de-bois@eleves.enpc.fr <br>
					Paris, France<br>
					06 31 19 91 61
				</div>
			</div>
		</div>
		<div id="section">
			<div id="sectionHeader">
				About the website:
			</div>
			<div id="sectionInner">
				<div id="sectionBlock" align="justify">
					Made in 2015<br>
					Mainly in HTML/JavaScript<br>
					Tutorials used : <a href="http://www.w3schools.com" style="z-index: 0">www.w3schools.com</a>
					
				</div>
			</div>
		</div>		
	</div>
</div>


<script>

	//TODO c, bc, ctx, bctx ça n'a pas de sens, size c'est la taille de quoi?
	var c;
	var bc;
	var ctx;
	var bctx;
	var size;
	
	var leftDivShown = false;
	var rightDivShown = false;
	var introShown = -1;

	
	
	var canvasHeight;
	var canvasInitHeight = 800;
	var canvasInitWidth = 800;
	var canvasWidth;
	var canvasX;
	var canvasY;
	

	
	
	
	var loopLimit = 10000;
	var loopNumber = 1;
	var date;
	var moving = true;
	

	
	
	var x0 = 400//Math.floor(canvasWidth / 2);
	var y0 = 400//Math.floor(canvasHeight / 2);
	//TODO radius c'est mieux que r ou bien rayon
	var r0 = 60;
	var r1 = 45;
	
	var circleNb = 5;
	var iconNb = 5;
	
	var rCoord = [];
	var thetaCoord = [];

	
	//
	// -------------------------------------------------------------------
	// Initialisation des tableaux :
	// -------------------------------------------------------------------
	//
	
	//TODO i ce n'est pas un nom de variable, préfère circleId ou un truc du genre
	for (i = 0; i < circleNb; i++) {
		//TODO catastrophe ferroviaire, préfères
		<![CDATA[
			angleDifference = Math.abs(thetaCoord[i] - thetaCoord[j]);
			minAngle = (55 / 180) * Math.PI;
			if ( angleDifference < minAngle){
		]]>
				if ( Math.abs(thetaCoord[i] - thetaCoord[j]) < 55/180*Math.PI){
					checked = false;
				}
			}
			
		}
		//TODO ta ligne est encore une fois trop compacte, trop d'infos sur une ligne
		<![CDATA[
			radiusMin = 100;
			//j'ai pas trouvé de meilleur nom sur le coup mais là c'est pas encore bien nommé
			radius = (Math.random() * 200) / 1;
		]]>
		rCoord.push(100 + (Math.random() * 200)/1);
	}
	
	
	//
	// -------------------------------------------------------------------
	// Fonction principale :
	// -------------------------------------------------------------------
	//
	
	$(document).ready(function(){
		//TODO c'est mal nommé
		c = $("#foregroundCanvas")[0];
		bc = $("#backgroundCanvas")[0];
		ctx = c.getContext("2d");
		bctx = bc.getContext("2d");
		
		//TODO essaie de toujours garder des espaces pour regrouper les éléments de manière logique genre là t'aurais du écrire ...Style = "#FF...
		ctx.strokeStyle="#FFFFFF"; //E6E6E6
		ctx.fillStyle = "#FAFAFA";
		ctx.lineWidth=4;
		
		//TODO, pas i, préfère iconId ou un truc du style
		for (i = 0; i<iconNb; i++){
			//TODO Bien!
			var name = "#icon" + i.toString();
			$(name).hide();
			
			name = "#intro" + i.toString();
			$(name).hide();
		}
		
		
		size = getSize();
		initWindow();
		drawBackground();
		//TODO iterator, j'ai du mal à comprendre
		iterator();
		
		//TODO un peu dur à comprendre mais c'est pas de ta faute les callbacks javascript c'est toujours dégueu
		$(document).mousemove(function(event){
			movementManager(event.pageX,event.pageY);
		});
		
	});
	
	//
	// -------------------------------------------------------------------
	// Gestion de la boucle de temps:
	// -------------------------------------------------------------------
	//
	
	function iterator() {
	
		//TODO Bien c'est clair!
		if (moving){
			moveCircles();
			
			//TODO ça peut être bien de faire rectX = 0 rectY = 0 mais bon je pinaille
			ctx.clearRect(0,0,c.width,c.height)
			drawCircles();
			drawIcons();
		}
		
		//TODO évite le code dans les commentaires c'est pas super propre
		if (true){//loopNumber < loopLimit){
			loopNumber += 1;
			setTimeout(iterator, 10);
		}
	}
	
	function moveCircles(){
		//TODO préfères circleId mais bon là ça va encore vu que c'est court et qu'il y a circleNb
		for (i = 0; i < circleNb; i++) {
			thetaCoord[i] += 0.002;
		}
	}
	
	//
	// -------------------------------------------------------------------
	// Affichage des objets :
	// -------------------------------------------------------------------
	//
	
	function drawCircles(){
		for (i = 0; i < circleNb; i++) {
			ctx.beginPath();
			//TODO préfères cartesianPos
			pos = convertPolarToCart(thetaCoord[i],rCoord[i]);
			//TODO ctx.arc, on ne comprend pas ce que tu veux dire, en plus il y a trop d'infos dans cette ligne, sépare tes x0 + pos[0] fais en une variable à chaque fois
			ctx.arc(x0 + pos[0], y0 + pos[1],r1,0,2*Math.PI);
			//TODO posStart? position de départ de quoi?
			posStart = convertPolarToCart(thetaCoord[i],r0);
			//TODO pareil
			posEnd = convertPolarToCart(thetaCoord[i],rCoord[i] - r1);
			//TODO tu pourrais séparer mais en vrai ça reste très lisible
			ctx.moveTo(posStart[0] + x0,posStart[1] + y0);
			ctx.lineTo(posEnd[0] + x0,posEnd[1] + y0);
			

			ctx.fill();
			ctx.stroke();
		}
		
		ctx.beginPath();
		ctx.arc(x0,y0,r0,0,2*Math.PI);
		ctx.stroke();
	}
	
	function drawBackground(){
		//TODO là on ne comprend pas, c'est quoi i et pourquoi doit il aller jusqu'à 10?
		for (i = 0; i<10; i++){
			bctx.fillStyle="#CEE3F6";
			bctx.fillRect(500,0,250,100);
			bctx.rotate(10*Math.PI/180);
		}
	}
	
	function drawIcons(){
		//TODO évites le code commenté
		//ctx.clearRect(0,0,c.width, c.height);
		//TODO évite i
		for (i = 0; i<iconNb; i++){
			//TODO tu pourrais spécifier du style iconName ou iconId mais là ça va
			var name = "#icon" + i.toString();
			var img = $(name)[0];
			var pos = convertPolarToCart(thetaCoord[i],rCoord[i]);
			//TODO là on ne comprend rien
			ctx.drawImage(img,pos[0] - r1 + x0,pos[1] - r1 + y0,r1*2,r1*2);
		}

	}
	
	//
	// -------------------------------------------------------------------
	// Autre
	// -------------------------------------------------------------------
	//
	
	function convertPolarToCart(theta, r){
		//TODO tu pourrais séparer le floor de son contenu mais là ça reste encore clair
		var x = Math.floor(r*Math.cos(theta));
		var y = Math.floor(r*Math.sin(theta));
		return [x,y];
	}
	
	//
	// -------------------------------------------------------------------
	// Animation
	// -------------------------------------------------------------------
	//
	
	//TODO si tu écris en français laisse en français partout, si tu écris en anglais laisse en anglais partout
	function movementManager(x,y){
		moving = true;
		if (!leftDivShown && !rightDivShown){
			circlesDetection(x,y);

		}
		else{
			moving = false;
			boxDetection(x,y);


		}
		
	}
	
	function circlesDetection(x,y){
		//TODO encore i
		for (i = 0; i < circleNb; i++){
			var pos = convertPolarToCart(thetaCoord[i], rCoord[i]);
			//TODO trop d'informations sur une ligne crée des variables, il y a tellement d'infos qu'elle fait 2 lignes
			var distance = Math.pow(x - canvasX - (x0 + pos[0]) * canvasWidth / canvasInitWidth,2)
			 + Math.pow(y - canvasY - (y0 + pos[1]) * canvasHeight / canvasInitHeight , 2);
			if (distance < Math.pow(r1,2)){
				moving = false;
				showIntro(x, y,i);
			}
		}
	}
	
	function boxDetection(x,y){
		if (loopNumber - date > 50){
			var winWidth = $(window).innerWidth()
			var winHeight = $(window).innerHeight();
			if (rightDivShown){
				//TODO tu pourrais créer un booléen boxOutOfBounds mais je pinaille
				if ( (x < winWidth*0.53) || (x > winWidth*0.90) || (y<winHeight*0.10) || (y > winHeight*0.80)){
					var name = "#intro" + introShown.toString();
					$(name).fadeOut();
					rightDivShown = false;
				}
			}
			else{
				if ( (x < winWidth*0.09) || (x > winWidth*0.46) || (y<winHeight*0.10) || (y > winHeight*0.80)){
					var name = "#intro" + introShown.toString();
					$(name).fadeOut();
					leftDivShown = false;
				}
			}
		}
	}
	
	function showIntro(x,y,i){
		var name = "#intro" + i.toString();
		var winWidth = $(window).innerWidth()
		var winHeight = $(window).innerHeight();

		if (x > winWidth/2){

			$(name)[0].style.top = "10%";
			$(name)[0].style.left = "53%";
			rightDivShown = true;

			//TODO évited
			//$("#rightDiv")[0].innerHTML = '<a href="http://www.google.com" ><img src="Pics/Kirito Asuna.jpg" alt="Kirito" width="400" height="200" style="text-align:center"></a>';
		}
		else{

			$(name)[0].style.top = "10%";
			$(name)[0].style.left = "9%";
			leftDivShown = true;
		}
		
		$(name).fadeIn();
		//TODO i n'apporte pas d'information
		introShown = i;
		date = loopNumber;
	}
	//
	// -------------------------------------------------------------------
	// Capture de la taille de l'écran et gestion de la taille des objets.
	// -------------------------------------------------------------------
	//
	
	function getSize() {
		var myWidth = 0, myHeight = 0;
		if( typeof( window.innerWidth ) == 'number' ) {
			//Non-IE
			myWidth = window.innerWidth;
			myHeight = window.innerHeight;
			//TODO catastrophe ferroviaire mais ça reste clair
		} else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
			//IE 6+ in 'standards compliant mode'
			myWidth = document.documentElement.clientWidth;
			myHeight = document.documentElement.clientHeight;
		} else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
			//IE 4 compatible
			myWidth = document.body.clientWidth;
			myHeight = document.body.clientHeight;
		}
		return [myWidth,myHeight]
	}
	
	function initWindow(){
		canvasHeight = Math.floor(size[1] * 0.85);
		canvasWidth = Math.floor(size[1] * 0.85);
		
		//TODO catastrophe ferroviaire mais ca reste clair
		c.style.width = canvasHeight.toString() +"px";
		c.style.height = canvasHeight.toString() +"px";
		
		canvasX = Math.floor((size[0] - canvasWidth) / 2);
		canvasY = 0;
		c.style.left = canvasX.toString() + "px";
	}
</script>


</body>
</html>
